<h1 class="mt-4">Clientes</h1>
<ol class="breadcrumb mb-4">
    <li class="breadcrumb-item active" style="width: 100%">
    	Consulta
    </li>
</ol>
<div class="row">
  <div class="col-md-12">
      <div *ngIf="mensagemSucesso" class="alert alert-success" role="alert">
        {{mensagemSucesso}}
      </div>
      <div *ngIf="mensagemErro" class="alert alert-danger" role="alert">
        {{mensagemErro}}
      </div>
  </div>
</div>
<div class="row">
	<div class="col-md-2">
		<button (click)="navigate('./clientes-form')" class="btn btn-warning" style="color:white">
			<i class="fa fa-plus"></i> Novo
		</button>
	</div>
</div>
<br/>

<div class="table-responsive">
    <table class="table table-bordered" id="dataTable" width="100%" cellspacing="0">
        <thead>
           <tr>
              <th>ID</th>
              <th>Nome</th>
              <th>CPF</th>
              <th>Data Cadastro</th>
              <th style="text-align: center">Ações</th>
			      </tr>
        </thead>
        <tbody>
          <tr *ngFor="let cliente of clientes">
              <td>{{cliente.id}}</td>
              <td>{{cliente.nome}}</td>
              <td>{{cliente.cpf}}</td>
              <td>{{cliente.dataCadastro}}</td>
              <td style="width: 125px">
                <button routerLink="/clientes-form/{{cliente.id}}" class="btn btn-primary m-1">
                   <i class="far fa-edit"></i>
                </button>
                <button class="btn btn-primary m-1" (click)="clienteSelecionado=cliente" data-toggle="modal" data-target="#modal-delecao">
                   <i class="fas fa-trash"></i>
                </button>
              </td>
          </tr>
        </tbody>
    </table>
    <div id="modal-delecao" class="modal" tabindex="-1">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title">Confirmação</h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body">
            <p>Deseja realmente excluir a(o) <b>{{(clienteSelecionado)?clienteSelecionado.nome : ""}}</b>  ?</p>
          </div>
          <div class="modal-footer">
            <button type="button" (click)="excluirCliente()" focused class="btn btn-success" data-dismiss="modal">SIM</button>
            <button type="button" class="btn btn-secondary" data-dismiss="modal">NÃO</button>
          </div>
        </div>
      </div>
    </div>
</div>
